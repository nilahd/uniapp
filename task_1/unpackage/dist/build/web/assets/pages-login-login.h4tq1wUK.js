import{r as e,u as l,c as a,w as t,i as o,o as s,a as u,b as n,t as d,s as i,d as r,e as c,f as p,I as f,g as m,h as _}from"./index-DMZYGDL1.js";import{_ as g}from"./_plugin-vue_export-helper.BCo6x5W8.js";const h=""+new URL("logo_nf-E9Ig0_op.png",import.meta.url).href,v=g({__name:"login",setup(g){const v=e(""),x=e(""),y=e(""),V=e(b()),w=l();function b(){let e="";for(let l=0;l<4;l++)e+=Math.floor(10*Math.random());return e}function j(){V.value=b()}function k(){v.value&&x.value&&y.value?r({url:`http://43.139.118.127:6677/identification/login?userName=${v.value}&password=${x.value}`,method:"POST",data:{},dataType:"json",success:e=>{console.log(e),0===e.data.code?(i({title:"登录成功",icon:"success",duration:2e3}),setTimeout((()=>{w.push("/pages/index/index")}),2e3)):i({title:e.data.msg||"登录失败",icon:"none",duration:2e3})},fail:e=>{i({title:"请求失败，请检查网络",icon:"none",duration:2e3}),console.log("登录请求失败",e)}}):i({title:"请输入完整信息",icon:"none",duration:2e3})}function U(){w.push("/pages/enroll/enroll")}return(e,l)=>{const i=c,r=p,g=o,w=f,b=m,q=_;return s(),a(g,{class:"box"},{default:t((()=>[u(g,{class:"left"},{default:t((()=>[u(g,{class:"centerBox"},{default:t((()=>[u(i,{src:h,alt:""}),u(g,null,{default:t((()=>[u(r,{class:"h4"},{default:t((()=>[n("图谱后台管理系统")])),_:1})])),_:1})])),_:1})])),_:1}),u(g,{class:"right"},{default:t((()=>[u(q,null,{default:t((()=>[u(r,{class:"h3"},{default:t((()=>[n("欢迎登录")])),_:1}),u(w,{type:"text",placeholder:"请输入账号",required:"",modelValue:v.value,"onUpdate:modelValue":l[0]||(l[0]=e=>v.value=e)},null,8,["modelValue"]),u(w,{type:"password",placeholder:"请输入密码",required:"",modelValue:x.value,"onUpdate:modelValue":l[1]||(l[1]=e=>x.value=e)},null,8,["modelValue"]),u(g,{style:{display:"flex","align-items":"flex-start"}},{default:t((()=>[u(w,{type:"text",placeholder:"请输入验证码",required:"",modelValue:y.value,"onUpdate:modelValue":l[2]||(l[2]=e=>y.value=e),style:{width:"70%","margin-right":"20px"}},null,8,["modelValue"]),u(g,{onClick:j,style:{"background-color":"lightgray",padding:"5px",width:"100px",display:"flex","justify-content":"space-around"}},{default:t((()=>[u(r,null,{default:t((()=>[n(d(V.value),1)])),_:1})])),_:1})])),_:1}),u(b,{type:"button",class:"loginBtn",onClick:k},{default:t((()=>[n("登录")])),_:1}),u(g,{class:"no",onClick:U},{default:t((()=>[n("没有账号？立即注册")])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-2f27d02a"]]);export{v as default};
